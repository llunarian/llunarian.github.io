---

layout: single
title: 4.서비스 수준 목표
category: Site Reliability Engineering
published: false

---


>📌 이 시리즈는 ⟪사이트 신뢰성 엔지니어링⟫(벳시 베이어, 크리스 존스, 제니퍼 펫오프, 니얼 리처드 머피 지음, 제이펍, ISBN 979-11-88621-08-8) 의 내용을 개인적으로 학습하고 정리하기 위해 쓰여졌습니다. 따라서 해당 글을 인용 및 재배포하는 것에 대한 주의를 부탁드립니다.🚨

>SRE에 대해 더 알고싶으시다면 [여기](https://sre.google/) 를 참고하세요!

<br/>

이 챕터에서는 **SLI(Service Level Indicator), SLO(Service Level Objectives), SLA(Service Level Agreements)** 등의 정의와 활용 방안 등을 다룬다.

## 서비스 수준 관련 용어

### SLI
> SLI는 서비스 수준 척도(Service Level Indicator)를 의미하며, 서비스 수준을 판단할 수 있는 몇가지를 정량적으로 측정한 값이다. 대부분의 서비스들은 핵심 SLI로서 요청에 대한 **응답속도**를 꼽는다. 그 외에도 시스템이 수신한 전체 요청 수 대비 **에러율**, 그리고 초당 처리할 수 있는 요청 수를 의미하는 **시스템 처리량(system throughput)**등이 있다. 측정된 값들은 합산되기도 한다. 즉, 일정 기간 동안 측정한 값들을 모아 비율이나 평균 혹은 백분율(percentile)등을 계산한다.

이전 글에서도 언급했던 것처럼, SRE가 중요하게 생각하는 SLI중 하나는 **가용성**이다. 가용성이란 전체 시간 중에서 사용 가능한 서비스의 상태로 존재하는 시간의 비율이다. 보통 가용성은 '9'의 개수로 표현되는데, 구글에서 서비스하는 GCE(Google Compute Engine)의 경우 '9 세 개 반', 즉 99.95%의 가용성을 목표로 하고 있다.


### SLO
> SLO는 서비스 수준 목표(Service Level Objectives)를 의미하며, SLI에 의해 측정된 서비스 수준의 목표 값 혹은 일정 범위의 값을 의미한다.

이 때 SRE는 적절한 SLO를 설정할 수 있어야 한다. 예를 들어 HTTP 요청의 경우 초당 쿼리 수(Queries Per Second, QPS)라는 지표는 사용자가 얼마나 사용하냐에 따라 달라지므로 이 지표는 SLO를 설정하기에 적절하지 않다. 반면 요청 당 평균 응답 시간은 SLO로 적합한 지표가 될 수 있다. 물론 QPS가 높아지면 응답 속도 또한 느려지므로 일반적으로는 연관이 있을 수 있지만 QPS 자체를 SLO로 설정하지는 않는다.

SLO를 설정하는 것은 고객 응대 측면에서도 유용한 방패(?)가 될 수 있다. 명확한 SLO가 설정되어 있다면 서비스를 설계하고 운영하는 개발자들의 생각과는 다른, 고객 자신들이 희망하는 성능을 기대하고 클레임을 걸 때 대응할 수 있는 근거 자료가 될 수 있다. (물론 SLO 자체가 너무 느슨하다면 문제가 되겠지만...)


### SLA
> SLA는 서비스 수준 협약(Service Level Agreements)의 약자로, SLO를 만족했을 경우(혹은 그렇지 못한 경우)의 댓가에 대한 사용자와의 명시적 혹은 암묵적인 계약을 의미한다.

SLA는 쉽게 말해 SLO를 달성하지 못했을 때 고객에게 어떤식의 댓가를 치루어야 할 것인가에 대한 내용을 담고 있다고 보면 된다.

중요한 것은 SRE는 SLA의 체결 자체에는 관여하지 않는다. SLA 체결은 제품에 대한 더 높은 책임을 가진 의사결정권자가 하는 것이 맞다.(왜냐하면 SLA 는 **계약서** 이므로 이것을 위반하면 법적 문제가 생기기 때문이다...!) 다만 SLO를 달성하지 못하는 것을 피하기 위해서 SRE의 도움이 필요하다. (+ SLI 정의할 때도 도움을 줄 수 있겠다.)

하지만 모든 서비스에 SLA가 존재할 필요는 없다. 서비스의 사용자의 범위가 너무 넓고 다양할 때나 무료로 서비스를 제공하는 경우가 그렇다. 그 대신 유료로 제공하는 서비스의 경우에는 주로 SLA를 체결하고 있다. 하지만 SLA 체결과는 무관하게 어떤 서비스든 SLI와 SLO를 설정하고 이를 바탕으로 관리하는 것이 필요하다.

<br/>

## 지표 설정

<br/>

## 목표 설정에 대한 실습

<br/>

## 협약에 대한 실습
